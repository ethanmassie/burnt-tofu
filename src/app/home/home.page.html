<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Home
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ng-container>
        <ion-list>
            <ion-list-header>Available</ion-list-header>
            <ion-item *ngIf="firstLesson | async as lesson">
                <ion-button fill="clear" (click)="startLesson(lesson)">Lessons</ion-button>
                <ion-badge slot="end">{{lesson.subject_ids.length}}</ion-badge>
            </ion-item>
            <ion-item *ngIf="firstReview | async as review">
                <ion-button fill="clear" (click)="startReview(review)">Reviews</ion-button>
                <ion-badge slot="end">{{review.subject_ids.length}}</ion-badge>
            </ion-item>
        </ion-list>
    
        <ion-list>
            <ion-list-header>Upcoming Reviews</ion-list-header>
            <ng-container *ngFor="let review of upcomingReviews | async">
                <ion-item *ngIf="review.subject_ids.length > 0">
                    <ion-label>{{review.available_at | date:'h a'}}</ion-label>
                    <ion-badge slot="end">{{review.subject_ids.length}}</ion-badge>
                </ion-item>
            </ng-container>
        </ion-list>
    </ng-container>
</ion-content>
